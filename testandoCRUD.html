<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>testando CRUD</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js'></script>
    <script>
        var dados
        axios.get('http://localhost:3001/clientes')
            .then((res) => {
                dados = res.data
                console.log(res.data)
                var cliente = res.data[0]
                document.getElementsByName('nome')[0].value = cliente.nome
                document.getElementsByName('cpf')[0].value = cliente.cpf
                document.getElementsByName('rg')[0].value = cliente.rg
                document.getElementsByName('telefone')[0].value = cliente.telefone
                document.getElementsByName('email')[0].value = cliente.email

                document.getElementsByName('rua')[0].value = cliente.endereco.rua
                document.getElementsByName('numero')[0].value = cliente.endereco.numero
                document.getElementsByName('bairro')[0].value = cliente.endereco.bairro
                document.getElementsByName('cidade')[0].value = cliente.endereco.cidade
                document.getElementsByName('pontoReferencia')[0].value = cliente.endereco.pontoReferencia
            }, (err) => {
                console.log(err)
            })

        function enviarDados(e) {
            e.preventDefault()
            var id = {
                id: dados[0]._id,
            }
           
            axios.post('http://localhost:3001/clientes/remover', id)
                .then((res) => {
                    console.log(res.data.mensagem)
                    alert(res.data.mensagem)
                }, (err) => {
                    console.log(err)
                })
                .catch((err) => {
                    console.log(err)
                })
            
        }   
    </script>
</head>
<body>
    <form onsubmit="enviarDados(event)">
        nome:
        <input type="text" name="nome" value='teste'/>
        <br />
        CPF:
        <input type="text" name="cpf" />
        <br />
        RG:
        <input type="text" name="rg"  />
        <br />
        telefone:
        <input type="text" name="telefone" />
        <br />
        email:
        <input type="text" name="email" />
        <h5>Endere√ßo: </h5>
        rua: 
        <input type="text" name="rua" />
        <br />
        numero: 
        <input type="number" name="numero" />
        <br />
        bairro: 
        <input type="text" name="bairro" />
        <br />
        cidade: 
        <input type="text" name="cidade" />
        <br />
        ponto de referencia
        <textarea name="pontoReferencia"></textarea>
        <br />
        <button type="submit">Enviar</button> 
    </form>
</body>
</html>